%%%
%%% Eigene Kommandos und Umgebungen
%%%

% page clearing
\newcommand{\clearemptydoublepage}{%
  \ifthenelse{\boolean{@twoside}}{\newpage{\pagestyle{empty}\cleardoublepage}}%
  {\clearpage}}

%% Farbdefinitionen
%  red, green, blue, white und black stammen aus color.sty
\definecolor{brightgray}{gray}{0.9}
\definecolor{darkgray}{gray}{0.5}
\definecolor{darkgreen}{rgb}{0.0,0.5,0.0}
\definecolor{dg}{rgb}{0.0,0.5,0.0}  %% dark green (Kommentare in listings)
\definecolor{dr}{rgb}{0.5,0.0,0.0}  %% dark red

%% Neuformatierung der Absatztrennung
%  Absätze haben 0pt Einzug und sind mit vert. Abstand
%  voneinander separiert
\setlength\parskip{\smallskipamount}
\setlength\parindent{0pt}

%% Redefinition Typewriter Font = kleinere Schrift und Silbentrennung
\renewcommand\texttt[1]{\small\ttfamily\hyphenchar\font=\defaulthyphenchar #1{}\normalsize\rmfamily\hyphenchar\font=\defaulthyphenchar}

%% Festlegen Standard-Listing Schrift
\lstset{language=csharp,extendedchars=true,basicstyle=\footnotesize\ttfamily,commentstyle=\itshape,breaklines=true}

%% Einfaches Umschalten zwischen verschiedenen Programmiersprachen
%  und dem Font, der zur Daterstellung verwendet wird.
%  Parameter:
%  1: Name der Sprache, z.B. csharp
%  2: Name der Fontfamilie, z.B. \ttfamity
%  3: Name der Fontfamilie für Kommentare, z.B. \itshape
%
%  Beispiel: \setlistingstyle{csharp}{\ttfamily}{\itshape}
\newcommand{\setlistingstyle}[3]{%
\lstset{language=#1,extendedchars=true,basicstyle=\footnotesize#2,commentstyle=#3,breaklines=true}
}

%% Der Darstellungsstil des Listings wird auf den Standard
%  zurückgesetzt
\newcommand{\resetlistingstyle}{%
\lstset{language=csharp,extendedchars=true,basicstyle=\footnotesize\ttfamily,commentstyle=\itshape,breaklines=true}
}

%% Redifinition: Formate und Fonts für Unter/Überschriften:
\addtokomafont{caption}{\sffamily\small}
\setkomafont{captionlabel}{\sffamily\bfseries}
\setkomafont{descriptionlabel}{\sffamily\bfseries\small}

%% Gliederung \part wird ohne Präfix z.B. "Teil" angezeigt.
\renewcommand*{\partformat}{\thepart\autodot}
\deffootnote{1em}{1em}{\thefootnotemark\ }

%% Neue Theoreme
\newtheoremstyle{style}
   {}                   %Space above
   {}                   %Space below
   {}                   %Body font: original {\normalfont}
   {}                   %Indent amount (empty = no indent,
                           %\parindent = para indent)
   {\normalfont\sffamily}  %Thm head font original {\normalfont\bfseries}
   {:}                     %Punctuation after thm head original :
   {\newline}              %Space after thm head: " " = normal interword
                           %space; \newline = linebreak
   {\textbf{\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}}                    
                                        %Thm head spec (can be left empty, meaning
                           %`normal') original {\underline{\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}}
 
\theoremstyle{style} 
\newtheorem{defi}{Definition}[chapter]
\newtheorem{bsp}{Beispiel}[chapter]
\newtheorem{softconstraint}{Soft Constraint}[chapter]
\newtheorem{hardconstraint}{Hard Constraint}[chapter]
\newtheorem{anforderung}{Anforderung} [chapter]

\newcommand{\betrachtungergebnis}[2]{
	\begin{table}[h!]
	\begin{tabularx}
	{\linewidth}{@{}!{}>{\hspace{0mm}} l R l<{\hspace{0mm}} !{\color{white}\vrule width 0pt}@{}}
		\toprule
			#1		& Punkte: & #2 \\
		\bottomrule
	\end{tabularx}	
	\end{table}
}

%% Textschnitt klein + serifenlos
\newcommand{\textsmf}[1]{\small{\textsf{#1}}}
%\newcommand{\hl}[1]{\textsf{#1}}

\newcommand{\hl}[1]{\small\sffamily\bfseries\hyphenchar\font=\defaulthyphenchar #1{}\normalsize\rmfamily\mdseries\hyphenchar\font=\defaulthyphenchar}

%% Textschnitt emph + italic
\newcommand{\textei}[1]{\emph{\textsf{#1}}}

%% Neue Umgebungen:
%  MySample: Umgebung für Beispieltexte. Anderer Schriftschnitt
%            und angepasster Einzug.
\newenvironment{MySample}{%
  \begin{labeling}[:]{%
      \usekomafont{descriptionlabel}Beispiel}
  \item[\usekomafont{descriptionlabel}Beispiel]\usekomafont{caption}
    }{%
    \normalfont \end{labeling}
}

%% Neue Umgebungen:
%  MySugg: Umgebung für Beispieltexte. Anderer Schriftschnitt
%            und angepasster Einzug.
\newenvironment{MySugg}{%
  \begin{labeling}[:]{%
      \usekomafont{descriptionlabel}Hinweis}
  \item[\usekomafont{descriptionlabel}Hinweis]\usekomafont{caption}
    }{%
    \normalfont \end{labeling}
}


%% MyBox: Umgebung für hervogehobene Texte. Anderer Schriftschnitt,
%         angepasste Farben und angepasster Einzug.
\newenvironment{MyBox}[1]{%
    \color{darkgray}%
    \rule{\linewidth}{1pt}%
    \color{black}%
    \usekomafont{descriptionlabel}
    \textcolor{darkgray}{{#1}}

    \begin{addmargin}[2em]{0pt}%
    \usekomafont{caption}%
}{%
  \end{addmargin}%
  \color{darkgray}%
  \rule[.5\baselineskip]{\linewidth}{1pt}%
  \normalfont%
}

%% verbatin in footnode
\VerbatimFootnotes